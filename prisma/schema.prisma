generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  evento String
  password String
  rol String
  nombreWhats String?
  invitacion Invitacion? @relation(fields: [invitacionId], references: [id])
  invitacionId String? @unique @db.ObjectId
}

model Invitacion {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  link String
  invitationName String // usar para obtener el id
  user User? // Ya no necesitas la relación aquí
  userId String @db.ObjectId
  invitados Invitados[]
  invitacionEnviadaConWhatsApp  InvitacionEnviadaConWhatsApp[]
}


model Invitados{
    id String @id @default(auto()) @map("_id") @db.ObjectId
    nombre String
    pasesAsignados Int
    tel String
    pasesConfirmados Int
    invitacionId String @db.ObjectId
    invitacion Invitacion @relation(fields:[invitacionId],references: [id])
}

model InvitacionEnviadaConWhatsApp {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  nombre String
  tel String
  invitacion Invitacion @relation(fields: [invitacionId], references: [id])
  invitacionId String @db.ObjectId
}